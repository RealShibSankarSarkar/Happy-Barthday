<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rimjhim's Aesthetic Surprise üéâ</title>

  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#faf4ef;
      --card:#ffffff;
      --accent:#ff7ca8;
      --accent2:#b68bff;
      --text:#2a2a2a;
    }

    *{margin:0;padding:0;box-sizing:border-box;}

    body{
      font-family:'Quicksand',sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .wrap{
      max-width:1100px;
      margin:20px auto;
      padding:20px;
    }

    .card{
      background:var(--card);
      border-radius:18px;
      padding:22px;
      box-shadow:0 12px 30px rgba(0,0,0,0.06);
      border:1px solid rgba(0,0,0,0.04);
      margin-bottom:18px;
    }

    .title{
      font-family:'Pacifico',cursive;
      font-size:3rem;
      text-align:center;
      margin-bottom:18px;
      color:var(--accent);
      animation:glow 3s infinite;
    }

    @keyframes glow{
      0%{text-shadow:0 0 4px rgba(255,100,150,0.4);}
      50%{text-shadow:0 0 14px rgba(255,100,150,0.9);}
      100%{text-shadow:0 0 4px rgba(255,100,150,0.4);}
    }

    /* ---------- Album ---------- */
    .album-title{
      text-align:center;
      font-size:1.4rem;
      color:var(--accent);
      font-weight:700;
      margin-bottom:14px;
    }

    .album-scroll{
      display:flex;
      overflow-x:auto;
      gap:20px;
      scroll-snap-type:x mandatory;
      padding:10px 0 20px 0;
      scrollbar-width:none;
    }
    .album-scroll::-webkit-scrollbar{display:none;}

    .polaroid{
      flex:0 0 180px;
      height:230px;
      background:white;
      padding:10px;
      border-radius:14px;
      scroll-snap-align:center;
      box-shadow:0 10px 25px rgba(0,0,0,0.12);
      transform:rotate(-3deg);
      transition:0.35s ease;
    }

    .polaroid:hover{
      transform:rotate(0deg) scale(1.06);
      box-shadow:0 20px 40px rgba(255,120,150,0.28);
    }

    .polaroid img{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:10px;
    }

    .scroll-hint{
      text-align:center;
      color:#999;
      margin-top:-5px;
      font-size:0.85rem;
    }

    /* ----- Wish Grid ----- */
    .wishes-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
      gap:16px;
    }

    .wish-card{
      background:white;
      padding:16px;
      border-radius:14px;
      box-shadow:0 8px 20px rgba(0,0,0,0.06);
      border:1px solid rgba(0,0,0,0.04);
    }

    .wish-meta{
      font-size:12px;
      color:gray;
      margin-bottom:6px;
    }

    input,textarea{
      width:100%;
      padding:12px;
      border-radius:10px;
      margin-top:8px;
      font-size:1rem;
      border:1px solid #ccc;
    }

    .send-btn{
      width:100%;
      margin-top:12px;
      padding:12px 18px;
      border-radius:12px;
      border:none;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:white;
      font-weight:700;
      cursor:pointer;
      font-size:1rem;
      transition:0.2s;
    }

    .send-btn:active{transform:scale(0.97);}

    /* ---- Start Screen ---- */
    #startScreen{
      position:fixed;
      left:0;top:0;width:100%;height:100%;
      background:rgba(0,0,0,0.82);
      z-index:999;
      display:flex;
      justify-content:center;
      align-items:center;
      flex-direction:column;
      color:white;
      text-align:center;
    }

    #startBtn{
      padding:14px 32px;
      border:none;
      border-radius:14px;
      background:#ff7ca8;
      font-size:1.2rem;
      font-weight:700;
      color:white;
      box-shadow:0 10px 25px rgba(255,100,150,0.3);
      cursor:pointer;
    }
  </style>
</head>
<body>

<!-- Start Screen -->
<div id="startScreen">
  <h2 style="margin-bottom:25px;">Tap to Start the Surprise üéâ</h2>
  <button id="startBtn">Start</button>
</div>

<!-- Background Music -->
<audio id="bgMusic" loop>
  <source src="https://files.catbox.moe/lnkg6v.mp3" type="audio/mpeg">
</audio>

<div class="wrap">

  <h1 class="title">Happy Birthday, Rimjhim üíñ</h1>

  <!-- Countdown -->
  <div class="card" style="text-align:center;">
    <h2 style="color:var(--accent)">‚è≥ Birthday Starts In</h2>
    <div id="countdown" style="font-size:1.8rem;font-weight:700;margin-top:10px;">
      Loading...
    </div>
  </div>

  <!-- Album -->
  <div class="card">
    <div class="album-title">‚ú® Aesthetic Memory Album ‚ú®</div>

    <div class="album-scroll">

      <div class="polaroid"><img src="https://github.com/RealShibSankarSarkar/Happy-Barthday/blob/main/cuttee.jpeg?raw=true"></div>

      <div class="polaroid"><img src="https://github.com/RealShibSankarSarkar/Happy-Barthday/blob/main/Rimjhim.png?raw=true"></div>

      <div class="polaroid"><img src="https://github.com/RealShibSankarSarkar/Happy-Barthday/blob/main/album.jpg?raw=true"></div>

      <div class="polaroid"><img src="https://github.com/RealShibSankarSarkar/Happy-Barthday/blob/main/eyes21.jpeg?raw=true"></div>

    </div>

    <p class="scroll-hint">‚¨ÖÔ∏è Swipe to explore ‚û°Ô∏è</p>
  </div>

  <!-- Wish Form -->
  <div class="card">
    <h3 style="color:var(--accent);margin-bottom:10px;">Send Your Sweet Wish üíå</h3>

    <label>Recipient</label>
    <input id="recName" value="Rimjhim">

    <label>Your Message</label>
    <textarea id="recMsg" placeholder="Write your message..."></textarea>

    <label>Your Name</label>
    <input id="senderName">

    <label>Phone (optional)</label>
    <input id="phone">

    <button id="sendBtn" class="send-btn">Send Wish üíñ</button>
  </div>

  <!-- Wish Feed -->
  <div class="card">
    <h3 style="color:var(--accent);margin-bottom:10px;">All Wishes ‚ú®</h3>
    <div id="wishesGrid" class="wishes-grid"></div>
  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBZA9tXy6D1nyR_zyWaKiq95F5sbGjWttk",
  authDomain: "girls-b8e77.firebaseapp.com",
  projectId: "girls-b8e77",
  storageBucket: "girls-b8e77.firebasestorage.app",
  messagingSenderId: "241187517416",
  appId: "1:241187517416:web:f7547d41aa147d1e52ea5d"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

/* ‚è≥ Countdown */
function startCountdown(){
  const target = new Date();
  target.setHours(24,0,0,0);

  setInterval(()=>{
    const now = new Date();
    let diff = target - now;

    if(diff <= 0){
      countdown.innerHTML = "üéâ It's Her Special Day!";
      return;
    }

    const h = Math.floor(diff/(1000*60*60));
    const m = Math.floor((diff%(1000*60*60))/(1000*60));
    const s = Math.floor((diff%(1000*60))/1000);

    countdown.innerHTML = `${h} ‡¶ò‡¶®‡ßç‡¶ü‡¶æ : ${m} ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü : ${s} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°`;
  },1000);
}

/* üéµ Start Music + Countdown */
const startScreen = document.getElementById("startScreen");
const startBtn = document.getElementById("startBtn");
const bgMusic = document.getElementById("bgMusic");

startBtn.onclick = () => {
  startScreen.style.display = "none";
  bgMusic.volume = 0.7;
  bgMusic.play().catch(()=>{});
  startCountdown();
};

/* üíå Send Wish */
sendBtn.addEventListener("click", async ()=>{
  const m = recMsg.value.trim();
  if(!m){ alert("Message ‡¶≤‡¶ø‡¶ñ‡ßã!"); return; }

  await db.collection("messages").add({
    sender: senderName.value.trim() || "Anonymous",
    recipient: recName.value.trim(),
    text: m,
    phone: phone.value.trim(),
    time: firebase.firestore.FieldValue.serverTimestamp()
  });

  recMsg.value = "";
  senderName.value = "";
  phone.value = "";
});

/* üìå Load Wishes */
db.collection("messages").orderBy("time","desc").onSnapshot(snap=>{
  wishesGrid.innerHTML = "";
  snap.forEach(doc=>{
    const d = doc.data();
    let t = d.time ? d.time.toDate().toLocaleString("bn-BD") : "";
    wishesGrid.innerHTML += `
      <div class="wish-card">
        <div class="wish-meta">${t}</div>
        <strong>${d.sender}</strong> ‚Üí <em>${d.recipient}</em>
        <p style="margin-top:6px;">${d.text}</p>
        ${d.phone ? `<p style="font-size:12px;color:gray;">üìû ${d.phone}</p>` : ""}
      </div>
    `;
  });
});
</script>

</body>
</html>
